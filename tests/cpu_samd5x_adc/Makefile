APPLICATION = cpu_samd5x_common_adc

RIOTBASE ?= $(CURDIR)/../..

DEVELHELP=1
QUIET ?= 1

BOARD ?= same54-xpro

FEATURES_REQUIRED += periph_rtc
FEATURES_REQUIRED += periph_wdt
FEATURES_REQUIRED += periph_adc
FEATURES_REQUIRED += backup_ram

USEMODULE += pm_layered
USEMODULE += xtimer

PARAM_WATCHDOG_WINDOW_MAX_MS ?= 2000
PARAM_TEST_ADC_LINE ?= 0
PARAM_NSECS_HIBERNATE ?= 2
PARAM_SLEEP_LEVEL ?= 0
PARAM_TEST_ITERATIONS ?= 1000
PARAM_POST_STANDBY_HOLDOFF_MS ?= 1000

CFLAGS += -DPARAM_WATCHDOG_WINDOW_MAX_MS=$(PARAM_WATCHDOG_WINDOW_MAX_MS)
CFLAGS += -DPARAM_TEST_ADC_LINE=$(PARAM_TEST_ADC_LINE)
CFLAGS += -DPARAM_NSECS_HIBERNATE=$(PARAM_NSECS_HIBERNATE)
CFLAGS += -DPARAM_SLEEP_LEVEL=$(PARAM_SLEEP_LEVEL)
CFLAGS += -DPARAM_TEST_ITERATIONS=$(PARAM_TEST_ITERATIONS)
CFLAGS += -DPARAM_POST_STANDBY_HOLDOFF_MS=$(PARAM_POST_STANDBY_HOLDOFF_MS)

include $(RIOTBASE)/Makefile.include
